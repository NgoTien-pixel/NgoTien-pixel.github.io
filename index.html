<html>
  <head>
    <link rel="stylesheet" href="style.css" />
    <title>Bicycle Store</title>
  </head>

  <body>
    <div id="hero"></div>

    <div class="out_grid">
      <div class="bike_general">
        <div class="image-wrapper">
          <img src="IMG_8350.jpg" alt="Beautiful Bike" />
          <div class="tap-hint">üîç</div>
        </div>
        <img src="IMG_8353.jpg" alt="Beautiful Bike" class="hidden" />
        <img src="IMG_8355.jpg" alt="Beautiful Bike" class="hidden" />

        <p class="name">Superieur</p>
        <p class="lock">(With lock)</p>
        <p class="number">35‚Ç¨</p>
      </div>
      <div class="bike_general">
        <div class="image-wrapper">
          <img src="IMG_8359.jpg" alt="Beautiful Bike" />
          <div class="tap-hint">üîç</div>
        </div>
        <img src="IMG_8360.jpg" alt="Beautiful Bike" class="hidden" />
        <img src="IMG_8361.jpg" alt="Beautiful Bike" class="hidden" />
        <p class="name">Rondo</p>
        <p class="lock">(With lock)</p>
        <p class="number">45‚Ç¨</p>
      </div>

      <div class="bike_general">
        <div class="image-wrapper">
          <img src="IMG_8367.jpg" alt="Beautiful Bike" />
          <div class="tap-hint">üîç</div>
        </div>
        <img src="IMG_8368.jpg" alt="Beautiful Bike" class="hidden" />
        <img src="IMG_8369.jpg" alt="Beautiful Bike" class="hidden" />
        <p class="name">SYS</p>
        <p class="lock">(With lock)</p>
        <p class="number">50‚Ç¨</p>
      </div>

      <div class="bike_general">
        <div class="image-wrapper">
          <img src="IMG_8356.jpg" alt="Beautiful Bike" />
          <div class="tap-hint">üîç</div>
        </div>
        <img src="IMG_8357.jpg" alt="Beautiful Bike" class="hidden" />
        <img src="IMG_8358.jpg" alt="Beautiful Bike" class="hidden" />
        <p class="name">NSU</p>
        <p class="lock">(With lock)</p>
        <p class="number">55‚Ç¨</p>
      </div>

      <div class="bike_general">
        <div class="image-wrapper">
          <img src="IMG_8370.jpg" alt="Beautiful Bike" />
          <div class="tap-hint">üîç</div>
        </div>
        <img src="IMG_8371.jpg" alt="Beautiful Bike" class="hidden" />
        <img src="IMG_8372.jpg" alt="Beautiful Bike" class="hidden" />
        <p class="name">M√∂we</p>
        <p class="lock">(With lock)</p>
        <p class="number">55‚Ç¨</p>
      </div>

      <div class="bike_general">
        <div class="image-wrapper">
          <img src="IMG_8364.jpg" alt="Beautiful Bike" />
          <div class="tap-hint">üîç</div>
        </div>
        <img src="IMG_8365.jpg" alt="Beautiful Bike" class="hidden" />
        <img src="IMG_8366.jpg" alt="Beautiful Bike" class="hidden" />
        <p class="name">Pegasus</p>
        <p class="lock">(With lock)</p>
        <p class="number">60‚Ç¨</p>
      </div>
    </div>

    <!-- Popup container -->
    <div id="popup">
      <span class="close">&times;</span>
      <span class="nav prev">&#10094;</span>
      <img id="popup-img" src="" />
      <span class="nav next">&#10095;</span>
    </div>

    <script>
      const bikeContainers = document.querySelectorAll(".bike_general");
      const popup = document.getElementById("popup");
      const popupImg = document.getElementById("popup-img");
      const closeBtn = document.querySelector("#popup .close");
      const nextBtn = document.querySelector("#popup .next");
      const prevBtn = document.querySelector("#popup .prev");

      let currentImages = []; // images of the clicked bike
      let currentIndex = 0;

      // Add click listener for each bike container
      bikeContainers.forEach((container) => {
        const imgs = container.querySelectorAll("img"); // includes main + hidden images
        imgs.forEach((img, index) => {
          img.addEventListener("click", (e) => {
            e.stopPropagation();
            currentImages = Array.from(imgs); // current group
            currentIndex = index;
            popupImg.src = currentImages[currentIndex].src;
            popup.style.display = "flex";
          });
        });
      });

      // Close popup
      closeBtn.addEventListener("click", () => (popup.style.display = "none"));
      popup.addEventListener("click", (e) => {
        if (e.target === popup) popup.style.display = "none";
      });

      // Navigate next
      nextBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex + 1) % currentImages.length;
        popupImg.src = currentImages[currentIndex].src;
      });

      // Navigate previous
      prevBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        currentIndex =
          (currentIndex - 1 + currentImages.length) % currentImages.length;
        popupImg.src = currentImages[currentIndex].src;
      });

      // Close with ESC key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") popup.style.display = "none";
      });
    </script>

    <footer>
      <div class="footer-content">
        <p>Contact Me: Viet Tien</p>
        <a>
          <img src="whatsapp-qr.png" alt="WhatsApp QR" class="whatsapp-qr" />
        </a>
        <p>Hamburg, Germany</p>
      </div>
    </footer>
  </body>
</html>
